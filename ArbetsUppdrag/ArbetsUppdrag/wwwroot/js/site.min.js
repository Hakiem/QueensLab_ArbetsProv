function initMap(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(n){var i=n.coords.latitude,r=n.coords.longitude,t=new google.maps.LatLng(i,r),u={zoom:9,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,poistion:google.maps.ControlPosition.TOP_RIGHT,mapTypeIds:[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.TERRAIN,google.maps.MapTypeId.HYBRID,google.maps.MapTypeId.SATELLITE]},navigationControl:!0,navigationControlOptions:{style:google.maps.NavigationControlStyle.ZOOM_PAN},scaleControl:!0,disableDoubleClickZoom:!0,draggable:!0,streetViewControl:!0,draggableCursor:"move"};map=new google.maps.Map(document.getElementById("gmap"),u);marker=new google.maps.Marker({position:t,map:map})})}var defaultLatGlobal,defaultLngGlobal;$(document).ready(function(){$("#btnRead").click(function(n){n.preventDefault();$(this).attr("disabled","disabled");$.ajax({url:"/Location/GetRandomCity",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){navigator.geolocation.getCurrentPosition(function(t){var r=t.coords.latitude,u=t.coords.longitude;$("#divMap").empty();$("#rightPanel").empty();var s=new google.maps.DirectionsService,i=new google.maps.DirectionsRenderer,f=new google.maps.Map(document.getElementById("gmap"),{zoom:9,center:{lat:r,lng:u}});i.setMap(f);var e=new google.maps.LatLng(r,u),o=new google.maps.LatLng(n.latitude,n.longitude),h={origin:e,destination:o,travelMode:google.maps.DirectionsTravelMode.DRIVING};i=new google.maps.DirectionsRenderer({suppressMarkers:!1,suppressInfoWindows:!0});i.setMap(f);i.setPanel(document.getElementById("rightPanel"));s.route({origin:e,destination:o,travelMode:"DRIVING"},function(n,t){t==="OK"?(i.setDirections(n),$("#rightPanelText").empty(),$("#rightPanelText").append("<p>This distance covers <br><kbd>"+n.routes[0].legs[0].distance.text+"<\/kbd> in <kbd>"+n.routes[0].legs[0].duration.text+"<\/kbd> by Car"),n.routes[0].legs[0].distance,console.log(n)):console.log("Directions request failed due to "+t)})})},accepts:{json:"application/json, text/javascript"}});setTimeout('$("#btnRead").removeAttr("disabled")',1500)});$("#btnClear").click(function(n){n.preventDefault();var t="No Data Available";$("#rightPanel").empty().append(t);$("#rightPanelText").empty().append(t);initMap()})});